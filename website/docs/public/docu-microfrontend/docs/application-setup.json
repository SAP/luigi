{"name":"application-setup.md","shortName":"application-setup","contents":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  </head>\n  <body>\n    <h1>Application setup</h1>\n    <p>Prior to start developing with Luigi, you need to set up your application. This document shows you how to set up a web application using the Luigi micro frontend framework.</p>\n    <p>Choose the framework to build your application:</p>\n    <p>\n      <a href=\"#noframework\">Application setup without a framework</a> \n      <a href=\"#angular6\">Angular 6</a>\n      <a href=\"#sapui5\">SAPUI5/OpenUI5</a>\n      <a href=\"#vuejs\">VUE.JS</a>\n    </p>\n    <h2>Basic application setup</h2>\n    <p>Follow these steps to build a web application based on Luigi:</p>\n    <ol>\n      <li>Add Luigi npm packages to your project dependencies.</li>\n    </ol>\n    <pre><code>npm install --save @kyma-project/luigi-core\nnpm install --save @kyma-project/luigi-client\n</code></pre>\n    <ol start=\"2\">\n      <li>Give Luigi exclusive control over the entry <code>index.html</code> file. If you have a single page application, transfer it to a two-page application. Your app should run to make sure the existing router doesn't interfere.</li>\n      <li>Define your Luigi <a href=\"navigation-configuration.md\">navigation configuration</a>.</li>\n      <li>Start your server to run the application.</li>\n    </ol>\n    <h2>Command examples</h2>\n    <p>The examples on this page demonstrate commands that perform each of the necessary steps to set up your application. Each set of commands is grouped by the framework on which you execute it.</p>\n    <p></p>\n    <h3>Application setup for an application not using a framework</h3>\n    <blockquote>\n      <p><strong>NOTE:</strong> You need a development server capable of hosting Single Page Applications. The recommended server is Live Server.</p>\n    </blockquote>\n    <ol>\n      <li>If you do not have Live Server installed, use this command to install it.</li>\n    </ol>\n    <pre><code>npm install -g live-server\n</code></pre>\n    <ol start=\"2\">\n      <li>Use the following installer to create a directory for your application, install Luigi, make assets available, and start your local server</li>\n    </ol>\n    <pre><code>bash &#x3C;(curl -s https://raw.githubusercontent.com/SAP/luigi/master/scripts/setup/no-framework.sh)\n</code></pre>\n    <p>or execute these commands manually to get the same result:</p>\n    <pre><code class=\"language-bash\">mkdir my-new-app &#x26;&#x26; cd my-new-app\n\nnpm init -y\n\nsed 's/\"scripts\": {/\"scripts\": {\\\n\\   \"buildConfig\":\"webpack --entry .\\/src\\/luigi-config\\/basic\\/basicConfiguration.js -o .\\/public\\/assets\\/sampleconfig.js --mode production\",/1' package.json > p.tmp.json &#x26;&#x26; mv p.tmp.json package.json\n\nnpm i -save @kyma-project/luigi-core @kyma-project/luigi-client fiori-fundamentals webpack webpack-cli @babel/core @babel/preset-env babel-loader \n\nmkdir -p public/assets\n\nmkdir -p src/luigi-config/basic\n\ncurl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/index.html > public/index.html\n\ncurl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/assets/sampleexternal.html > public/assets/basicexternal.html\n\ncurl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/luigi-config/basic/basicConfiguration.js > src/luigi-config/basic/basicConfiguration.js\n\nsed \"s|extendedConfiguration.bundle.js|sampleconfig.js|g\" public/index.html > public/index.tmp.html &#x26;&#x26; mv public/index.tmp.html public/index.html\n\ncp -r node_modules/\\@kyma-project/luigi-* public\n\ncp -r node_modules/fiori-fundamentals/dist public/fiori-fundamentals\n\nnpm run buildConfig\n\nlive-server --entry-file=index.html public\n</code></pre>\n    <p></p>\n    <h3>Application setup for Angular 6</h3>\n    <blockquote>\n      <p><strong>NOTE:</strong> The Angular CLI is a prerequisite for this example.</p>\n    </blockquote>\n    <ol>\n      <li>\n        <p>If you do not have the Angular CLI installed, download and install it from <a href=\"https://cli.angular.io/\">this URL</a>.</p>\n      </li>\n      <li>\n        <p>Use the installer to create your application, install Luigi, make assets available, and serve your application:</p>\n      </li>\n    </ol>\n    <pre><code>bash &#x3C;(curl -s https://raw.githubusercontent.com/SAP/luigi/master/scripts/setup/angular.sh)\n</code></pre>\n    <p>or execute these commands manually to get the same result:</p>\n    <pre><code class=\"language-bash\">ng new my-angular-app --routing &#x26;&#x26; cd my-angular-app\n\nnpm i -P @kyma-project/luigi-core @kyma-project/luigi-client fiori-fundamentals webpack webpack-cli @babel/core @babel/preset-env babel-loader \n\nsed 's/\"scripts\": {/\"scripts\": {\\\n\\   \"buildConfig\":\"webpack --entry .\\/src\\/luigi-config\\/basic\\/basicConfiguration.js -o .\\/src\\/assets\\/sampleconfig.js --mode production\",/1' package.json > p.tmp.json &#x26;&#x26; mv p.tmp.json package.json\n\nmkdir -p src/luigi-config/basic\n\nmv src/index.html src/angular.html\n\ncurl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/index.html > src/index.html\n\ncurl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/luigi-config/basic/basicConfiguration.js > src/luigi-config/basic/basicConfiguration.js\n\ncurl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/assets/sampleexternal.html > src/assets/basicexternal.html\n\n\nsed 's/extendedConfiguration.bundle.js/sampleconfig.js/g' src/index.html > src/index.tmp.html &#x26;&#x26; mv src/index.tmp.html src/index.html\n\nsed 's#\"src/index.html\"#\"src/angular.html\"#g' angular.json > tmp.json &#x26;&#x26; mv tmp.json angular.json\n\nsed 's#\"src/styles.css\"#\"src/styles.css\", \"node_modules/fiori-fundamentals/dist/fiori-fundamentals.min.css\"#g' angular.json > tmp.json &#x26;&#x26; mv tmp.json angular.json\n\nsed 's#\"src/assets\"#\"src/assets\",\"src/index.html\",\"src/logout.html\",{\"glob\": \"fiori-fundamentals.min.css\",\"input\": \"node_modules/fiori-fundamentals/dist\",\"output\": \"/fiori-fundamentals\"},{\"glob\": \"fonts/**\",\"input\": \"node_modules/fiori-fundamentals/dist\",\"output\": \"/fiori-fundamentals\"},{\"glob\": \"SAP-icons.*\",\"input\": \"node_modules/fiori-fundamentals/dist\",\"output\": \"/fiori-fundamentals\"},{\"glob\": \"**\",\"input\": \"node_modules/@kyma-project/luigi-core\",\"output\": \"/luigi-core\"},{\"glob\": \"luigi-client.js\",\"input\": \"node_modules/@kyma-project/luigi-client\",\"output\": \"/luigi-client\"}#g' angular.json > tmp.json &#x26;&#x26; mv tmp.json angular.json\n\nnpm run buildConfig\n\nnpm run start\n</code></pre>\n    <p></p>\n    <h3>Application setup for SAPUI5/OpenUI5</h3>\n    <blockquote>\n      <p><strong>NOTE:</strong> Live Server must be installed as your development server.</p>\n    </blockquote>\n    <ol>\n      <li>If you do not have Live Server installed, use this command to install it.</li>\n    </ol>\n    <pre><code>npm install -g live-server\n</code></pre>\n    <ol start=\"2\">\n      <li>Use the installer to create a directory for your application, install Luigi, make assets available, and start your local server:</li>\n    </ol>\n    <pre><code>bash &#x3C;(curl -s https://raw.githubusercontent.com/SAP/luigi/master/scripts/setup/openui5.sh)\n</code></pre>\n    <p>or execute these commands manually to get the same result:</p>\n    <pre><code>$ mkdir my-ui5-app &#x26;&#x26; cd my-ui5-app\n$ npm init -y\n$ npm i -save @kyma-project/luigi-core @kyma-project/luigi-client fiori-fundamentals\n$ mkdir -p public/assets\n$ curl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/index.html > public/index.html\n$ sed 's/extendedConfiguration.bundle.js/sampleconfig.js/g' public/index.html > public/index.tmp.html &#x26;&#x26; mv public/index.tmp.html public/index.html\n$ curl https://raw.githubusercontent.com/SAP/openui5/master/src/sap.m/test/sap/m/demokit/tutorial/quickstart/01/webapp/index.html | sed 's/src=\"..\\/..\\/..\\/..\\/..\\/..\\/..\\/..\\/resources\\/sap-ui-core.js\"/src=\"https:\\/\\/openui5.hana.ondemand.com\\/resources\\/sap-ui-core.js\"/g' > public/ui5.html\n$ curl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/luigi-config/basic/basicConfiguration.js > public/assets/sampleconfig.js\n$ curl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/assets/sampleexternal.html > public/assets/basicexternal.html\n$ cp -r node_modules/\\@kyma-project/luigi-* public\n$ live-server --entry-file=index.html public\n</code></pre>\n    <p></p>\n    <h3>Application setup for VUE.JS</h3>\n    <blockquote>\n      <p><strong>NOTE:</strong> The VUE CLI is a prerequisite for this example.</p>\n    </blockquote>\n    <ol>\n      <li>If you do not have VUE CLI installed, use this command to install it.</li>\n    </ol>\n    <pre><code>npm install -g @vue/cli\n</code></pre>\n    <ol start=\"2\">\n      <li>Use the installer to create your application, install Luigi, make assets available, and serve your application:</li>\n    </ol>\n    <pre><code>bash &#x3C;(curl -s https://raw.githubusercontent.com/SAP/luigi/master/scripts/setup/vue.sh)\n</code></pre>\n    <p>or execute these commands manually to get the same result:</p>\n    <pre><code>$ vue create -d my-original-vue-app &#x26;&#x26; cd my-original-vue-app\n$ npm i -save @kyma-project/luigi-core @kyma-project/luigi-client fiori-fundamentals\n$ mkdir -p public/assets\n$ mv public/index.html public/vue.html\n$ curl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/index.html > public/index.html\n$ sed 's/extendedConfiguration.bundle.js/sampleconfig.js/g' public/index.html > public/index.tmp.html &#x26;&#x26; mv public/index.tmp.html public/index.html\n$ curl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/luigi-config/basic/basicConfiguration.js > public/assets/sampleconfig.js\n$ curl https://raw.githubusercontent.com/SAP/luigi/master/core/examples/luigi-sample-angular/src/assets/sampleexternal.html > public/assets/basicexternal.html\n$ echo \"const webpack=require('webpack');const CopyWebpackPlugin=require('copy-webpack-plugin');module.exports={pages:{sampleapp:{entry:'src/main.js',template:'public/vue.html',filename:'vue.html'}},lintOnSave:true,runtimeCompiler:true,outputDir:'dist',configureWebpack:{plugins:[new CopyWebpackPlugin([{context:'public',to:'index.html',from:'index.html'},{context:'node_modules/@kyma-project/luigi-core',to:'./luigi-core',from:{glob:'**',dot:true}},{context:'node_modules/@kyma-project/luigi-client',to:'./luigi-client',from:{glob:'**',dot:true}}],{ignore:['.gitkeep','**/.DS_Store','**/Thumbs.db'],debug:'warning'})]}};\" > vue.config.js\n$ npm run serve\n</code></pre>\n  </body>\n</html>\n"}