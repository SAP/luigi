{"name":"communication.md","shortName":"communication","contents":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  </head>\n  <body>\n    <h1>Communication</h1>\n    <h2>Custom messages</h2>\n    <p>Luigi Core and Luigi Client can exchange custom messages in both directions.</p>\n    <h3>Luigi Client to Luigi Core</h3>\n    <p>For Luigi Client to send messages to Luigi Core, use the <a href=\"luigi-client-api.md#sendCustomMessage\"><em>sendCustomMessage</em></a> method from Client API.</p>\n    <p>For Luigi Core to process custom messages, define a configuration similar to the following at the root level of your Luigi configuration object:</p>\n    <pre><code class=\"language-javascript\">{\n  ...\n  communication: {\n    customMessagesListeners: {\n      'my-custom-message.update-top-nav': () => {\n        Luigi.navigation().updateTopNavigation();\n      }\n    }\n  }\n  ...\n}\n</code></pre>\n    <p>where the <code>my-custom-message.update-top-nav</code> key is the message id, and the value is the listener function for the custom message. The listener receives the following input parameters:</p>\n    <ul>\n      <li><strong>customMessage</strong> the <a href=\"luigi-client-api.md#sendCustomMessage\"><em>message</em></a> sent by Luigi Client.</li>\n      <li><strong>microfrontend</strong> a micro frontend object as specified <a href=\"luigi-core-api.md#getMicrofrontends\">here</a>.</li>\n      <li><strong>navigation node</strong> a <a href=\"navigation-parameters-reference.md#Node-parameters\">navigation node object</a>.</li>\n    </ul>\n    <h3>Luigi Core to Luigi Client</h3>\n    <p>For Luigi Core to send messages, use the <a href=\"luigi-core-api.md#customMessages\"><em>customMessages</em></a> section from Core API. You can send a custom message to all rendered micro frontends, or to a specific one. For the latter, use the Core API <a href=\"luigi-core-api.md#elements\"><em>elements</em></a> methods to retrieve micro frontends and select the one you want to send the custom message to.</p>\n    <p>For Luigi Client to process the message, add and remove message listeners as described <a href=\"luigi-client-api.md#addCustomMessageListener\">here</a>.</p>\n  </body>\n</html>\n"}