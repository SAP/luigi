<!doctype html> <head> <meta charset=utf-8> <meta content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/docu-microfrontend/ > <link href=global.css rel=stylesheet> <style>.content.svelte-gnxal1 h2{font-size:1.4em;font-weight:500}.content.svelte-gnxal1 pre{background-color:#f9f9f9;box-shadow:inset 1px 1px 5px rgba(0,0,0,.05);padding:.5em;border-radius:2px;overflow-x:auto}.content.svelte-gnxal1 pre code{background-color:transparent;padding:0}.content.svelte-gnxal1 ul{line-height:1.5}.content.svelte-gnxal1 li{margin:0 0 .5em 0}</style> <noscript id=sapper-head-start></noscript><title>authorization-configuration</title><noscript id=sapper-head-end></noscript> <link href=/docu-microfrontend/client/e7420cd996cf3cf5d9a9/main.js rel=preload as=script><link href=/docu-microfrontend/client/e7420cd996cf3cf5d9a9/docs_$slug.4.js rel=preload as=script></head> <body> <div id=sapper> <main class="fd-ui fd-ui--fundamental"> <div class=fd-page> <section class="content fd-section svelte-gnxal1"> <div class="fd-has-margin-bottom-small fd-panel"> <!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> </head> <body> <h1>Authorization configuration</h1> <p>Luigi provides OpenID Connect and OAuth2 Implicit Grant authorization out of the box. The <strong>use</strong> key defines the active authorization provider and the <strong>disableAutoLogin</strong> key allows you to disable the automatic login flow that is provided by default.</p> <pre><code>auth: {
  use: 'openIdConnect',
  openIdConnect: {
    ...
  },
  disableAutoLogin: true
}
</code></pre> <h2>OpenID Connect configuration</h2> <p>The following code snippet demonstrates how to configure authorization using OpenID Connect in Luigi.</p> <pre><code>auth: {
  use: 'openIdConnect',
  openIdConnect: {
    authority: 'https://example-authority.com',
    client_id: 'client',
    scope: 'audience:server:client_id:client openid profile email groups',
    redirect_uri: '',
    post_logout_redirect_uri: '/logout.html',
    automaticSilentRenew: true,
    userInfoFn:()=>{},
    accessTokenExpiringNotificationTime: 60
  },
  disableAutoLogin: false
}
</code></pre> <ul> <li><strong>authority</strong> contains the OpenID Connect server address used to authenticate.</li> <li><strong>client_id</strong> contains your app client ID.</li> <li><strong>scope</strong> defines the permissions to request at login.</li> <li><strong>redirect_uri</strong> sets the URL to return to after login. The default application root is <code>/</code>.</li> <li><strong>post_logout_redirect_uri</strong> sets the URL to return after logout. The default URL is <code>/logout.html</code>.</li> <li><strong>automaticSilentRenew</strong> enables the automatic silent renewal of the token if it is supported by the server. The default value is <code>false</code>. For this mechanism to work, the browser must have third-party cookies support enabled.</li> <li><strong>accessTokenExpiringNotificationTime</strong> is the number of seconds before an access token is to expire and triggers silent token refresh. The default value is <code>60</code> seconds.</li> <li><strong>thirdPartyCookiesScriptLocation</strong> is the URL to the page containing third-party cookies support check. For details, see <a href=#Third-party-cookies-and-silent-token-refresh>Third-party cookies and silent token refresh section</a>.</li> <li><strong>userInfoFn</strong> provides a function to get user information. It returns a promise of a <strong>userinfo</strong> object which can contain <strong>name</strong>, <strong>email</strong> and <strong>picture</strong> (value is a URL to the image). <strong>Name</strong> or <strong>email</strong> are displayed in the profile drop-down menu and the user’s profile picture is displayed in the top navigation.</li> </ul> <h2>OAuth2 Implicit Grant configuration</h2> <p>The following code snippet demonstrates how to configure authorization using OAuth2 Implicit Grant in Luigi.</p> <pre><code>auth: {
  use: 'oAuth2ImplicitGrant',
  oAuth2ImplicitGrant: {
    authorizeUrl: 'https://example-url.com/authorize',
    logoutUrl: 'https://example-url.com/logout',
    oAuthData: {
      client_id: 'egDuozijY5SVr0NSIowUP1dT6RVqHnlp'
      scope: '',
      // optional parameters
      redirect_uri: '/luigi-core/auth/oauth2/callback.html'
      response_type: 'id_token token',
      // all specified values inside oAuthData will be added to the oauth call, i.e display="popup",
    }
    // optional functions
    nonceFn: () => {},
    logoutFn: (settings, authData, logoutCallback) => {},
    userInfoFn:()=>{},
    accessTokenExpiringNotificationTime: 60,
    expirationCheckInterval: 5
  },
  disableAutoLogin: false
</code></pre> <ul> <li><strong>authorizeUrl</strong> contains the URL or address of the OAuth2 authorization server.</li> <li><strong>logoutUrl</strong> contains the endpoint to terminate the authorization session.</li> <li><strong>oAuthData</strong> comprises the object with data sent to the <strong>authorizeUrl</strong>.</li> <li><strong>client_id</strong> holds your application client ID.</li> <li><strong>scope</strong> defines permissions that are requested at login.</li> <li><strong>redirect_uri</strong> contains the URL to return to after login. The default application root is <code>/</code>.</li> <li><strong>response_type</strong> defaults to the <strong>id_token</strong>. Any other parameter that is added to oAuthData is also added to the authorization payload.</li> <li><strong>nonceFn</strong> provides a function that returns a string in order to override the default <strong>nonce</strong>.</li> <li><strong>logoutFn</strong> provides the function to override the <strong>logoutUrl</strong> functionality for a custom logout. It needs to execute the <strong>logoutCallback()</strong> function after logout.</li> <li><strong>userInfoFn</strong> provides a function to get user information. It returns a promise of a <strong>userinfo</strong> object which can contain <strong>name</strong>, <strong>email</strong> and <strong>picture</strong> (value is a URL to the image). <strong>Name</strong> or <strong>email</strong> are displayed in the profile drop-down menu and the user’s profile picture is displayed in the top navigation.</li> <li><strong>accessTokenExpiringNotificationTime</strong> number of seconds that pass before an access token expires and the <strong>onAuthExpireSoon</strong> event is fired. The default value is <code>60</code> seconds.</li> <li><strong>expirationCheckInterval</strong> the number of seconds to pass between each check if the token is about to expire. The default value is <code>5</code> seconds.</li> </ul> <h3>Custom Authentication Provider</h3> <p>If you are using any authentication provider you can also implement the following functions for Luigi.</p> <pre><code>export class CustomAuthenticationProvider {

    login(){
        // logic to handle the login mechanism
        // returns a promise which contains an error message if something went wrong
    }

    logout(authData, logoutCallback){
        // logic to handle the logout mechanism
    }

    setTokenExpirationAction(){
    }

    setTokenExpireSoonAction() {}

    generateNonce(){
        //returns a string 
    }

    userInfo(){
        // logic to get some user information
        // returns a promise of a userinfo object which contains a user name and/or email to display in the profile dropdown menu
    }
}
</code></pre> <h3>Third-party cookies and silent token refresh</h3> <p> The OpenID Connect configuration allows you to specify the <strong>automaticSilentRenew</strong> option. When set to <code>true</code>, Luigi attempts to automatically renew the token in the background before it expires. Be aware that this mechanism requires the browser to support <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#Third-party_cookies>third-party cookies</a>. It is possible to detect whether the user's browser supports the mechanism by using the script in <a href=https://github.com/SAP/luigi/tree/master/core/third-party-cookies><code>third-party-cookies</code></a> catalog. Deploy these files on a <strong>different domain</strong> than your main application and set <strong>thirdPartyCookiesScriptLocation</strong> to <code>init.html</code> file. During initialization, Luigi detects the cookies support and produces a warning in the console if cookies are disabled in the user's browser. </p> <p>When Luigi fails to renew the token and then logs out the user, it adds the following query parameters to the logout page redirect URL: <code>?reason=tokenExpired&thirdPartyCookies=[VALUE]</code>. Luigi replaces the <strong>VALUE</strong> with one of the following:</p> <ul> <li><code>disabled</code> means that third party cookies is disabled.</li> <li><code>enabled</code> means third party cookies are supported by the browser.</li> <li><code>not_checked</code> means that the script was not provided in <strong>thirdPartyCookiesScriptLocation</strong> or it could not be loaded.</li> </ul> <p>The application developer can read these parameters and set a logout page based on them.</p> <h3>Implement a Custom Authentication Provider</h3> <p>You can write your own authentication provider that meets your requirements.</p> <p> <a href=https://github.com/SAP/luigi/blob/master/core/src/providers/auth/oAuth2ImplicitGrant.js>oAuth2ImplicitGrant.js</a> is a good starting point if you don't use an external authentication library. After authorization is successful on the auth provider's side it redirects back to <code>Luigi callback.html</code> <strong>redirect_uri</strong>. The auth provider verifies the authentication data, saves it in <strong>localStorage</strong> for Luigi, and redirects to the Luigi main page. </p> <p><a href=https://github.com/SAP/luigi/blob/master/core/src/providers/auth/openIdConnect.js>openIdConnect.js</a> lazy loads the official <code>oidc-client</code> library and is a good starting point if you also depend on external authentication libraries.</p> <p>Make sure to set the following data in your Authentication Provider implementation, so that it is used after successful authentication.</p> <pre><code>const data = {
  accessToken: hashParams['access_token'],
  accessTokenExpirationDate: hashParams['expiry_timestamp'],
  scope: hashParams['scope'],
  idToken: hashParams['id_token']
};

localStorage.setItem('luigi.auth', JSON.stringify(data));
localStorage.setItem('luigi.newlyAuthorized', true);
</code></pre> <p>Additionally, if you process authentication data during Luigi runtime (inside the custom provider, similarly to using the<code>openIdConnect</code> provider), dispatch the <code>luigi.auth.tokenIssued</code> Event to update the currently opened micro frontends with the latest authentication data. This is not required when processing authentication outside Luigi, for example when <code>oAuth2ImplicitGrant</code> provider processes the data in <code>callback.html</code> and redirects to Luigi afterward.</p> <pre><code>window.postMessage(
  { msg: 'luigi.auth.tokenIssued', authData: data },
  '*'
);
</code></pre>   </div> </section> </div> </main></div> <script>__SAPPER__={baseUrl:"/docu-microfrontend",preloaded:[void 0,null,{post:{name:"authorization-configuration.md",shortName:"authorization-configuration",contents:"\u003C!doctype html\u003E\n\u003Chtml lang=\"en\"\u003E\n  \u003Chead\u003E\n    \u003Cmeta charset=\"utf-8\"\u003E\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\"\u003E\n  \u003C\u002Fhead\u003E\n  \u003Cbody\u003E\n    \u003Ch1\u003EAuthorization configuration\u003C\u002Fh1\u003E\n    \u003Cp\u003ELuigi provides OpenID Connect and OAuth2 Implicit Grant authorization out of the box. The \u003Cstrong\u003Euse\u003C\u002Fstrong\u003E key defines the active authorization provider and the \u003Cstrong\u003EdisableAutoLogin\u003C\u002Fstrong\u003E key allows you to disable the automatic login flow that is provided by default.\u003C\u002Fp\u003E\n    \u003Cpre\u003E\u003Ccode\u003Eauth: {\n  use: 'openIdConnect',\n  openIdConnect: {\n    ...\n  },\n  disableAutoLogin: true\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n    \u003Ch2\u003EOpenID Connect configuration\u003C\u002Fh2\u003E\n    \u003Cp\u003EThe following code snippet demonstrates how to configure authorization using OpenID Connect in Luigi.\u003C\u002Fp\u003E\n    \u003Cpre\u003E\u003Ccode\u003Eauth: {\n  use: 'openIdConnect',\n  openIdConnect: {\n    authority: 'https:\u002F\u002Fexample-authority.com',\n    client_id: 'client',\n    scope: 'audience:server:client_id:client openid profile email groups',\n    redirect_uri: '',\n    post_logout_redirect_uri: '\u002Flogout.html',\n    automaticSilentRenew: true,\n    userInfoFn:()=\u003E{},\n    accessTokenExpiringNotificationTime: 60\n  },\n  disableAutoLogin: false\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n    \u003Cul\u003E\n      \u003Cli\u003E\u003Cstrong\u003Eauthority\u003C\u002Fstrong\u003E contains the OpenID Connect server address used to authenticate.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003Eclient_id\u003C\u002Fstrong\u003E contains your app client ID.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003Escope\u003C\u002Fstrong\u003E defines the permissions to request at login.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003Eredirect_uri\u003C\u002Fstrong\u003E sets the URL to return to after login. The default application root is \u003Ccode\u003E\u002F\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003Epost_logout_redirect_uri\u003C\u002Fstrong\u003E sets the URL to return after logout. The default URL is \u003Ccode\u003E\u002Flogout.html\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EautomaticSilentRenew\u003C\u002Fstrong\u003E enables the automatic silent renewal of the token if it is supported by the server. The default value is \u003Ccode\u003Efalse\u003C\u002Fcode\u003E. For this mechanism to work, the browser must have third-party cookies support enabled.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EaccessTokenExpiringNotificationTime\u003C\u002Fstrong\u003E is the number of seconds before an access token is to expire and triggers silent token refresh. The default value is \u003Ccode\u003E60\u003C\u002Fcode\u003E seconds.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EthirdPartyCookiesScriptLocation\u003C\u002Fstrong\u003E is the URL to the page containing third-party cookies support check. For details, see \u003Ca href=\"#Third-party-cookies-and-silent-token-refresh\"\u003EThird-party cookies and silent token refresh section\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EuserInfoFn\u003C\u002Fstrong\u003E provides a function to get user information. It returns a promise of a \u003Cstrong\u003Euserinfo\u003C\u002Fstrong\u003E object which can contain \u003Cstrong\u003Ename\u003C\u002Fstrong\u003E, \u003Cstrong\u003Eemail\u003C\u002Fstrong\u003E and \u003Cstrong\u003Epicture\u003C\u002Fstrong\u003E (value is a URL to the image). \u003Cstrong\u003EName\u003C\u002Fstrong\u003E or \u003Cstrong\u003Eemail\u003C\u002Fstrong\u003E are displayed in the profile drop-down menu and the user’s profile picture is displayed in the top navigation.\u003C\u002Fli\u003E\n    \u003C\u002Ful\u003E\n    \u003Ch2\u003EOAuth2 Implicit Grant configuration\u003C\u002Fh2\u003E\n    \u003Cp\u003EThe following code snippet demonstrates how to configure authorization using OAuth2 Implicit Grant in Luigi.\u003C\u002Fp\u003E\n    \u003Cpre\u003E\u003Ccode\u003Eauth: {\n  use: 'oAuth2ImplicitGrant',\n  oAuth2ImplicitGrant: {\n    authorizeUrl: 'https:\u002F\u002Fexample-url.com\u002Fauthorize',\n    logoutUrl: 'https:\u002F\u002Fexample-url.com\u002Flogout',\n    oAuthData: {\n      client_id: 'egDuozijY5SVr0NSIowUP1dT6RVqHnlp'\n      scope: '',\n      \u002F\u002F optional parameters\n      redirect_uri: '\u002Fluigi-core\u002Fauth\u002Foauth2\u002Fcallback.html'\n      response_type: 'id_token token',\n      \u002F\u002F all specified values inside oAuthData will be added to the oauth call, i.e display=\"popup\",\n    }\n    \u002F\u002F optional functions\n    nonceFn: () =\u003E {},\n    logoutFn: (settings, authData, logoutCallback) =\u003E {},\n    userInfoFn:()=\u003E{},\n    accessTokenExpiringNotificationTime: 60,\n    expirationCheckInterval: 5\n  },\n  disableAutoLogin: false\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n    \u003Cul\u003E\n      \u003Cli\u003E\u003Cstrong\u003EauthorizeUrl\u003C\u002Fstrong\u003E contains the URL or address of the OAuth2 authorization server.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003ElogoutUrl\u003C\u002Fstrong\u003E contains the endpoint to terminate the authorization session.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EoAuthData\u003C\u002Fstrong\u003E comprises the object with data sent to the \u003Cstrong\u003EauthorizeUrl\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003Eclient_id\u003C\u002Fstrong\u003E holds your application client ID.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003Escope\u003C\u002Fstrong\u003E defines permissions that are requested at login.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003Eredirect_uri\u003C\u002Fstrong\u003E contains the URL to return to after login. The default application root is \u003Ccode\u003E\u002F\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003Eresponse_type\u003C\u002Fstrong\u003E defaults to the \u003Cstrong\u003Eid_token\u003C\u002Fstrong\u003E. Any other parameter that is added to oAuthData is also added to the authorization payload.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EnonceFn\u003C\u002Fstrong\u003E provides a function that returns a string in order to override the default \u003Cstrong\u003Enonce\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003ElogoutFn\u003C\u002Fstrong\u003E provides the function to override the \u003Cstrong\u003ElogoutUrl\u003C\u002Fstrong\u003E functionality for a custom logout. It needs to execute the \u003Cstrong\u003ElogoutCallback()\u003C\u002Fstrong\u003E function after logout.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EuserInfoFn\u003C\u002Fstrong\u003E provides a function to get user information. It returns a promise of a \u003Cstrong\u003Euserinfo\u003C\u002Fstrong\u003E object which can contain \u003Cstrong\u003Ename\u003C\u002Fstrong\u003E, \u003Cstrong\u003Eemail\u003C\u002Fstrong\u003E and \u003Cstrong\u003Epicture\u003C\u002Fstrong\u003E (value is a URL to the image). \u003Cstrong\u003EName\u003C\u002Fstrong\u003E or \u003Cstrong\u003Eemail\u003C\u002Fstrong\u003E are displayed in the profile drop-down menu and the user’s profile picture is displayed in the top navigation.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EaccessTokenExpiringNotificationTime\u003C\u002Fstrong\u003E number of seconds that pass before an access token expires and the \u003Cstrong\u003EonAuthExpireSoon\u003C\u002Fstrong\u003E event is fired. The default value is \u003Ccode\u003E60\u003C\u002Fcode\u003E seconds.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Cstrong\u003EexpirationCheckInterval\u003C\u002Fstrong\u003E the number of seconds to pass between each check if the token is about to expire. The default value is \u003Ccode\u003E5\u003C\u002Fcode\u003E seconds.\u003C\u002Fli\u003E\n    \u003C\u002Ful\u003E\n    \u003Ch3\u003ECustom Authentication Provider\u003C\u002Fh3\u003E\n    \u003Cp\u003EIf you are using any authentication provider you can also implement the following functions for Luigi.\u003C\u002Fp\u003E\n    \u003Cpre\u003E\u003Ccode\u003Eexport class CustomAuthenticationProvider {\n\n    login(){\n        \u002F\u002F logic to handle the login mechanism\n        \u002F\u002F returns a promise which contains an error message if something went wrong\n    }\n\n    logout(authData, logoutCallback){\n        \u002F\u002F logic to handle the logout mechanism\n    }\n\n    setTokenExpirationAction(){\n    }\n\n    setTokenExpireSoonAction() {}\n\n    generateNonce(){\n        \u002F\u002Freturns a string \n    }\n\n    userInfo(){\n        \u002F\u002F logic to get some user information\n        \u002F\u002F returns a promise of a userinfo object which contains a user name and\u002For email to display in the profile dropdown menu\n    }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n    \u003Ch3\u003EThird-party cookies and silent token refresh\u003C\u002Fh3\u003E\n    \u003Cp\u003E\n      The OpenID Connect configuration allows you to specify the \u003Cstrong\u003EautomaticSilentRenew\u003C\u002Fstrong\u003E option. When set to \u003Ccode\u003Etrue\u003C\u002Fcode\u003E, Luigi attempts to automatically renew the token in the background before it expires. Be aware that this mechanism requires the browser to support \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FCookies#Third-party_cookies\"\u003Ethird-party cookies\u003C\u002Fa\u003E.\n      It is possible to detect whether the user's browser supports the mechanism by using the script in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FSAP\u002Fluigi\u002Ftree\u002Fmaster\u002Fcore\u002Fthird-party-cookies\"\u003E\u003Ccode\u003Ethird-party-cookies\u003C\u002Fcode\u003E\u003C\u002Fa\u003E catalog. Deploy these files on a \u003Cstrong\u003Edifferent domain\u003C\u002Fstrong\u003E than your main application and set \u003Cstrong\u003EthirdPartyCookiesScriptLocation\u003C\u002Fstrong\u003E to \u003Ccode\u003Einit.html\u003C\u002Fcode\u003E file. During initialization, Luigi detects the cookies support and produces a warning in the console if cookies are disabled in the user's browser.\n    \u003C\u002Fp\u003E\n    \u003Cp\u003EWhen Luigi fails to renew the token and then logs out the user, it adds the following query parameters to the logout page redirect URL: \u003Ccode\u003E?reason=tokenExpired&#x26;thirdPartyCookies=[VALUE]\u003C\u002Fcode\u003E. Luigi replaces the \u003Cstrong\u003EVALUE\u003C\u002Fstrong\u003E with one of the following:\u003C\u002Fp\u003E\n    \u003Cul\u003E\n      \u003Cli\u003E\u003Ccode\u003Edisabled\u003C\u002Fcode\u003E means that third party cookies is disabled.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Ccode\u003Eenabled\u003C\u002Fcode\u003E means third party cookies are supported by the browser.\u003C\u002Fli\u003E\n      \u003Cli\u003E\u003Ccode\u003Enot_checked\u003C\u002Fcode\u003E means that the script was not provided in \u003Cstrong\u003EthirdPartyCookiesScriptLocation\u003C\u002Fstrong\u003E or it could not be loaded.\u003C\u002Fli\u003E\n    \u003C\u002Ful\u003E\n    \u003Cp\u003EThe application developer can read these parameters and set a logout page based on them.\u003C\u002Fp\u003E\n    \u003Ch3\u003EImplement a Custom Authentication Provider\u003C\u002Fh3\u003E\n    \u003Cp\u003EYou can write your own authentication provider that meets your requirements.\u003C\u002Fp\u003E\n    \u003Cp\u003E\n      \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FSAP\u002Fluigi\u002Fblob\u002Fmaster\u002Fcore\u002Fsrc\u002Fproviders\u002Fauth\u002FoAuth2ImplicitGrant.js\"\u003EoAuth2ImplicitGrant.js\u003C\u002Fa\u003E is a good starting point if you don't use an external authentication library.\n      After authorization is successful on the auth provider's side it redirects back to \u003Ccode\u003ELuigi callback.html\u003C\u002Fcode\u003E \u003Cstrong\u003Eredirect_uri\u003C\u002Fstrong\u003E. The auth provider verifies the authentication data, saves it in \u003Cstrong\u003ElocalStorage\u003C\u002Fstrong\u003E for Luigi, and redirects to the Luigi main page.\n    \u003C\u002Fp\u003E\n    \u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002FSAP\u002Fluigi\u002Fblob\u002Fmaster\u002Fcore\u002Fsrc\u002Fproviders\u002Fauth\u002FopenIdConnect.js\"\u003EopenIdConnect.js\u003C\u002Fa\u003E lazy loads the official \u003Ccode\u003Eoidc-client\u003C\u002Fcode\u003E library and is a good starting point if you also depend on external authentication libraries.\u003C\u002Fp\u003E\n    \u003Cp\u003EMake sure to set the following data in your Authentication Provider implementation, so that it is used after successful authentication.\u003C\u002Fp\u003E\n    \u003Cpre\u003E\u003Ccode\u003Econst data = {\n  accessToken: hashParams['access_token'],\n  accessTokenExpirationDate: hashParams['expiry_timestamp'],\n  scope: hashParams['scope'],\n  idToken: hashParams['id_token']\n};\n\nlocalStorage.setItem('luigi.auth', JSON.stringify(data));\nlocalStorage.setItem('luigi.newlyAuthorized', true);\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n    \u003Cp\u003EAdditionally, if you process authentication data during Luigi runtime (inside the custom provider, similarly to using the\u003Ccode\u003EopenIdConnect\u003C\u002Fcode\u003E provider), dispatch the \u003Ccode\u003Eluigi.auth.tokenIssued\u003C\u002Fcode\u003E Event to update the currently opened micro frontends with the latest authentication data. This is not required when processing authentication outside Luigi, for example when \u003Ccode\u003EoAuth2ImplicitGrant\u003C\u002Fcode\u003E provider processes the data in \u003Ccode\u003Ecallback.html\u003C\u002Fcode\u003E and redirects to Luigi afterward.\u003C\u002Fp\u003E\n    \u003Cpre\u003E\u003Ccode\u003Ewindow.postMessage(\n  { msg: 'luigi.auth.tokenIssued', authData: data },\n  '*'\n);\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n  \u003C\u002Fbody\u003E\n\u003C\u002Fhtml\u003E\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/docu-microfrontend/service-worker.js');</script><script src=/docu-microfrontend/client/e7420cd996cf3cf5d9a9/main.js></script> <script> let link = document.createElement("link");
		link.rel = "stylesheet";
		let script = document.createElement("script");
		script.type = "text/javascript";
		if (location.port == '4001') {
			link.href = "/fundamental-ui/fiori-fundamentals.min.css";
			script.src = "/luigi-client/luigi-client.js";
		} else {
			link.href = "/docu-microfrontend/fundamental-ui/fiori-fundamentals.min.css";
			script.src = "/docu-microfrontend/luigi-client/luigi-client.js";
		}
		document.getElementsByTagName("head")[0].appendChild(link);
		document.getElementsByTagName("body")[0].appendChild(script); </script> 