<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Luigi Webcomponent Container</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>

  <script type="module">
    // simple Luigi Container package bundle import
    import './bundle.js';
    document.querySelector('luigi-container').init()

    function captureConsoleErrors() {
      const originalError = console.error;
      console.error = function(error) {
        // Update UI to display error
        const errorContainer = document.getElementById('error-container');
        errorContainer.innerHTML += `<p style="color: red;">Error: ${error}</p>`;
        // Call the original console.error to keep the original behavior
        originalError.apply(console, arguments);
      };
    }

    setTimeout(() => {
        const first =  document.querySelector('luigi-container').shadowRoot.children[1];
        console.log('0-first', first)
        console.log('0-first.children', first.children)
        console.log('0-first.children[0]', first.children[0].$paragraph)

        document.getElementById('replace').innerHTML = first.children[0].$paragraph.innerHTML

        // console.log('0-first.children[0]...innerHTML', first.children[0].shadowRoot.innerHTML)
        // document.getElementById('replace').innerHTML =  first.children[0].shadowRoot.innerHTML
      }, 3000);
   
  </script>

  <body>
    <p id="error-container">Errors here</p>
    <div id="c1" class="testCl">Test001 this is loading rendering something</div>
    <p id="replace" style="border: solid 1px red;">This to be replaced</p>
    <luigi-container
      data-test-id="luigi-client-api-test-01"
      viewURL="./myWebcomponent.js"
      webcomponent="true"
      context='{"content":" -- some content --"}'
    ></luigi-container>
  </body>
</html>
