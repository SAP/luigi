<section class="fd-section">
	<div class="fd-section__header">
		<h1 class="fd-section__title">Project {{ projectId }}</h1>
  </div>

  <ng-container *ngIf="projectId === 'pr1'">
    <div class="fd-panel fd-has-margin-bottom-small">
      <p><strong>LuigiClient uxManager methods:</strong></p>
      <ul class="fd-list-group">
        <li class="fd-list-group__item">
          <button class="fd-button" data-cy="add-backdrop" (click)="toggleModal()">
            Add backdrop
          </button>
          <p>
            <app-code-snippet data="luigiClient.uxManager().addBackdrop()"></app-code-snippet>
            <app-code-snippet data="luigiClient.uxManager().removeBackdrop()"></app-code-snippet>
          </p>
        </li>
        <li class="fd-list-group__item">
          <button class="fd-button" data-cy="show-luigi-confirmation-modal" (click)="showConfirmationModal()">Show Luigi confirmation modal</button>
          <p>
            <app-code-snippet data="luigiClient.uxManager().showConfirmationModal(content)"></app-code-snippet>
          </p>
          <p class="fd-has-font-style-italic" data-cy="luigi-confirmation-modal-result"
            ngClass="{{(confirmationModalResult.currentKey === 'confirmed') ? 'fd-has-color-status-1' : 'fd-has-color-status-2'}}">
            {{confirmationModalResult.info[confirmationModalResult.currentKey]}}
          </p>
        </li>
      </ul>
    </div>
  </ng-container>


  <ng-container *ngIf="projectId === 'pr2'">
    <ng-container *ngIf="preservedViewCallbackContext">
      <div class="fd-panel fd-has-margin-bottom-small">
        <div class="fd-alert" role="alert">
          <span class="fd-status-label fd-status-label--available"></span> Context received from linkManager().goBack():<br />
          <pre>{{ preservedViewCallbackContext | json }}</pre>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="projectId && projectId !== 'overview'">
      <div class="fd-panel link-manager fd-has-margin-bottom-small">
        <p><strong>LuigiClient linkManager methods:</strong></p>
        <ul class="fd-list-group">
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().navigate('/overview')">absolute: to overview</a>
            <app-code-snippet data="luigiClient.linkManager().navigate('/overview')"></app-code-snippet>
          </li>
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().navigate('users/groups/stakeholders')">relative:
              to stakeholders</a>
            <app-code-snippet data="luigiClient.linkManager().navigate('users/groups/stakeholders')"></app-code-snippet>
          </li>
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().fromClosestContext().navigate('/users/groups/stakeholders')">
              closest parent: to stakeholders</a>
            <app-code-snippet data="luigiClient.linkManager().fromClosestContext().navigate('/users/groups/stakeholders')"></app-code-snippet>
          </li>
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().fromContext('project').navigate('/settings')">
              parent by name: project to settings</a>
            <app-code-snippet data="luigiClient.linkManager().fromContext('project').navigate('/settings')"></app-code-snippet>
          </li>
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().fromClosestContext().withParams({foo: 'bar'}).navigate('settings')">
              project to settings with params (foo=bar)</a>
            <app-code-snippet data="luigiClient.linkManager().fromClosestContext().withParams({foo: 'bar'}).navigate('settings')"></app-code-snippet>
          </li>
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().fromContext('NONEXISTING').navigate('/settings')">
              parent by name: with nonexisting context</a> (look at the console)
            <app-code-snippet data="luigiClient.linkManager().fromContext('NONEXISTING').navigate('/settings')"></app-code-snippet>
          </li>
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().navigate('/settings', null, true)">
              with preserved view: project to global settings and back</a>
            <app-code-snippet data="luigiClient.linkManager().navigate('/settings', null, true)"></app-code-snippet>
          </li>
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().withParams({test: true}).navigate('/settings', null, true)">
              extended preserved view example with params: project to global settings and back</a>
            <app-code-snippet data="luigiClient.linkManager().withParams({test: true}).navigate('/settings', null, true)"></app-code-snippet>
          </li>
          <li class="fd-list-group__item check-path">
            <span>Check if path exists</span>
            <app-code-snippet data="luigiClient.linkManager().pathExists('{{pathExists.formValue}}')"></app-code-snippet>
            <span>
              <input type="text" [(ngModel)]="pathExists.formValue" (input)="resetPathExistsResult()" />
              <button class="fd-button" (click)="checkIfPathExists()">Check</button>
            </span>
            <p class="check-path-result">
              <ng-container *ngIf="pathExists.result === true">
                Path {{pathExists.formValue}} exists!
              </ng-container>
              <ng-container *ngIf="pathExists.result === false">
                Path {{pathExists.formValue}} does not exist!
              </ng-container>
            </p>
          </li>
        </ul>
      </div>
    </ng-container>

    <ng-container *ngIf="projectId && projectId !== 'overview'">
      <div class="fd-panel fd-has-margin-bottom-small">
        <p><strong>LuigiClient - wrong paths in linkManager.navigate():</strong></p>
        <ul class="fd-list-group">
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().navigate('/projects/pr2/miscellaneous2/maskopatol')">Partly
              wrong link
            </a>
            <app-code-snippet data="luigiClient.linkManager().navigate('/projects/pr2/miscellaneous2/maskopatol')"></app-code-snippet>
          </li>
          <li class="fd-list-group__item">
            <a href="javascript:void(0)" (click)="luigiClient.linkManager().navigate('/maskopatol/has/a/child')">Totally
              wrong link</a>
            <app-code-snippet data="luigiClient.linkManager().navigate('/maskopatol/has/a/child')"></app-code-snippet>
          </li>
        </ul>
      </div>
    </ng-container >
  </ng-container>
</section>

<app-modal [modalActive]="modalActive" (modalClosed)="toggleModal()"></app-modal>
